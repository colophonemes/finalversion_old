.container
	.row#tasks(ng-show="!started")
		.col-md-12
			h1.pagetitle Select Tasks 
			ul.tasks
				li.task( ng-repeat="task in tasks",
					ng-class="{active: hover, selected: task.selected, complete:task.status=='complete'}",
					ng-mouseenter="hover = true",
					ng-mouseleave="hover = false"
					)
					a.set-selected(ng-click="setTaskAsSelected(task._id,!task.selected)" ng-if="task.status != 'complete'")
						span.fa.fa-arrow-circle-right(ng-show="task.selected") 
						|  {{task.name}}
						span(ng-if="task.recurring") - Recurring ({{task.recurringInterval}})
					span(ng-if="task.status == 'complete'")
						|  {{task.name}} 
						a.btn.btn-default(ng-click="updateTask(task._id,{status:'incomplete'})")
							span.fa.fa-undo
					a.delete.pull-right(ng-click="destroyTask(task._id)")
						| Delete 
						span.fa.fa-trash
	.row#current-tasks(ng-show="started")
		h1.pagetitle Current tasks
		ul.tasks
			li.task( ng-repeat="task in tasks | filter : {selected : true} | reverse",ng-class="task.status")
				span.index {{$index+1}}.  
				| {{task.name}}
				span(ng-show="$first")
					button.btn.btn-default(ng-click="updateTask(task._id,{selected:false, status:'incomplete', date: 'now'})") Done working 
						span.fa.fa-caret-square-o-right
						| 
					button.btn.btn-success(ng-click="updateTask(task._id,{selected:false, status:'complete'})") Completed 
						span.fa.fa-check-square
	.row(ng-show="tasksSelectedCount > 0")
			button.btn.btn-primary(ng-click="startTasks()", ng-show="!started") Start!
			button.btn.btn-danger(ng-click="stopTasks()", ng-show="started") Stop!


	.row
		.col-md-12
			h3 Add a new task:
			form(name="newTask",ng-model="newTask",ng-submit="newTaskSubmitted()")
				.form-horizontal
					.form-group
						label.sr-only(for="taskName") Add new task:
						input.form-control(type="text",name="taskName",ng-model="taskName", placeholder="Add new task" required)
				.form-inline
					.checkbox
						label(for="taskRecurring") Is this a recurring task? 
							input.form-control(type="checkbox",name='taskRecurring',ng-model="taskRecurring",checked=unchecked)
					.form-group(ng-show="taskRecurring")
						label Repeat every
							input.form-control(type="number", name="taskRecurringInterval", ng-model="taskRecurringInterval", value="5", ng-required="taskRecurring", min="1" ng-pattern="/^[1-9]*$/")
							| day
							span(ng-show="taskRecurringInterval>1") s
					button.btn(type="submit", ng-class="{'btn-success':newTask.$valid}", ng-disabled="newTask.$invalid") Submit
					button.btn(type="button",
						ng-class="{'btn-default':newTask.$dirty}",
						ng-disabled="newTask.$pristine",
						ng-click="resetNewTaskForm()") Clear
